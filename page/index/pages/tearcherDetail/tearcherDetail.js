// page/index/pages/tearcherDetail/tearcherDetail.js
Page({
  data: {
    statusBarHeight: 0,
    top: 0,
    topBox: 0,
    showTab: 0,
    lessonList: [{
        columnId: 855,
        dayTime: "12月19日",
        indexCover: "https://hwcdn.jinlingkeji.cn/uploads/images/aba9522ca7833d964db860b181ca170e.png",
        isExperience: 0,
        liveId: 8544,
        liveName: "<p style='width:410rpx;display: block;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;'>识别和保护我们的发声器官1</p>",
        startTime: "09:00",
        status: 0,
        tags: [{
          columnId: 855,
          tagName: "戏曲文化"
        }],
        universityName: "网上老年大学",
        viewNum: 184,
        isCharge: 1
      },
      {
        columnId: 855,
        dayTime: "12月19日",
        indexCover: "https://hwcdn.jinlingkeji.cn/uploads/images/aba9522ca7833d964db860b181ca170e.png",
        isExperience: 0,
        liveId: 8544,
        liveName: "<p style='width:410rpx;display: block;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;'>识别和保护我们的发声器官1</p>",
        startTime: "09:00",
        status: 0,
        tags: [{
          columnId: 855,
          tagName: "戏曲文化"
        }],
        universityName: "网上老年大学",
        viewNum: 184,
      }, {
        columnId: 855,
        dayTime: "12月19日",
        indexCover: "https://hwcdn.jinlingkeji.cn/uploads/images/aba9522ca7833d964db860b181ca170e.png",
        isExperience: 0,
        liveId: 8544,
        liveName: "<p style='width:410rpx;display: block;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;'>识别和保护我们的发声器官1</p>",
        startTime: "09:00",
        status: 0,
        tags: [{
          columnId: 855,
          tagName: "戏曲文化"
        }],
        universityName: "网上老年大学",
        viewNum: 184,
        isCharge: 1
      }, {
        columnId: 855,
        dayTime: "12月19日",
        indexCover: "https://hwcdn.jinlingkeji.cn/uploads/images/aba9522ca7833d964db860b181ca170e.png",
        isExperience: 0,
        liveId: 8544,
        liveName: "<p style='width:410rpx;display: block;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;'>识别和保护我们的发声器官1</p>",
        startTime: "09:00",
        status: 0,
        tags: [{
          columnId: 855,
          tagName: "戏曲文化"
        }],
        universityName: "网上老年大学",
        viewNum: 184,
      },{
        columnId: 855,
        dayTime: "12月19日",
        indexCover: "https://hwcdn.jinlingkeji.cn/uploads/images/aba9522ca7833d964db860b181ca170e.png",
        isExperience: 0,
        liveId: 8544,
        liveName: "<p style='width:410rpx;display: block;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;'>识别和保护我们的发声器官1</p>",
        startTime: "09:00",
        status: 0,
        tags: [{
          columnId: 855,
          tagName: "戏曲文化"
        }],
        universityName: "网上老年大学",
        viewNum: 184,
      },{
        columnId: 855,
        dayTime: "12月19日",
        indexCover: "https://hwcdn.jinlingkeji.cn/uploads/images/aba9522ca7833d964db860b181ca170e.png",
        isExperience: 0,
        liveId: 8544,
        liveName: "<p style='width:410rpx;display: block;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;'>识别和保护我们的发声器官1</p>",
        startTime: "09:00",
        status: 0,
        tags: [{
          columnId: 855,
          tagName: "戏曲文化"
        }],
        universityName: "网上老年大学",
        viewNum: 184,
      },{
        columnId: 855,
        dayTime: "12月19日",
        indexCover: "https://hwcdn.jinlingkeji.cn/uploads/images/aba9522ca7833d964db860b181ca170e.png",
        isExperience: 0,
        liveId: 8544,
        liveName: "<p style='width:410rpx;display: block;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;'>识别和保护我们的发声器官1</p>",
        startTime: "09:00",
        status: 0,
        tags: [{
          columnId: 855,
          tagName: "戏曲文化"
        }],
        universityName: "网上老年大学",
        viewNum: 184,
        isCharge: 1
      },{
        columnId: 855,
        dayTime: "12月19日",
        indexCover: "https://hwcdn.jinlingkeji.cn/uploads/images/aba9522ca7833d964db860b181ca170e.png",
        isExperience: 0,
        liveId: 8544,
        liveName: "<p style='width:410rpx;display: block;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;'>识别和保护我们的发声器官1</p>",
        startTime: "09:00",
        status: 0,
        tags: [{
          columnId: 855,
          tagName: "戏曲文化"
        }],
        universityName: "网上老年大学",
        viewNum: 184,
      },{
        columnId: 855,
        dayTime: "12月19日",
        indexCover: "https://hwcdn.jinlingkeji.cn/uploads/images/aba9522ca7833d964db860b181ca170e.png",
        isExperience: 0,
        liveId: 8544,
        liveName: "<p style='width:410rpx;display: block;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;'>识别和保护我们的发声器官1</p>",
        startTime: "09:00",
        status: 0,
        tags: [{
          columnId: 855,
          tagName: "戏曲文化"
        }],
        universityName: "网上老年大学",
        viewNum: 184,
      },{
        columnId: 855,
        dayTime: "12月19日",
        indexCover: "https://hwcdn.jinlingkeji.cn/uploads/images/aba9522ca7833d964db860b181ca170e.png",
        isExperience: 0,
        liveId: 8544,
        liveName: "<p style='width:410rpx;display: block;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;'>识别和保护我们的发声器官1</p>",
        startTime: "09:00",
        status: 0,
        tags: [{
          columnId: 855,
          tagName: "戏曲文化"
        }],
        universityName: "网上老年大学",
        viewNum: 184,
      },{
        columnId: 855,
        dayTime: "12月19日",
        indexCover: "https://hwcdn.jinlingkeji.cn/uploads/images/aba9522ca7833d964db860b181ca170e.png",
        isExperience: 0,
        liveId: 8544,
        liveName: "<p style='width:410rpx;display: block;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;'>识别和保护我们的发声器官1</p>",
        startTime: "09:00",
        status: 0,
        tags: [{
          columnId: 855,
          tagName: "戏曲文化"
        }],
        universityName: "网上老年大学",
        viewNum: 184,
      },
    ],
  },
  onLoad: function (options) {
    this.setData({
      statusBarHeight: wx.getSystemInfoSync().statusBarHeight
    })
    this.getHetght()
  },
  onShow: function () {

  },
  onShareAppMessage: function () {
    return {
      title: "一起来学习网上老年大学讲师的课程吧!",
      imageUrl:  this.data.$state.shareImgurl || "/images/sharemessage.jpg",
      path: "/page/index/pages/tearcherDetail/tearcherDetail?id=" +
        id +
        "&type=share&uid=" +
        this.data.$state.userInfo.id
    };
  },
  getHetght() {
    let query = wx.createSelectorQuery().in(this)
    let that = this
    query.select('.topBox').boundingClientRect()
    query.exec(res => {
      console.log(res)
      this.setData({
        topBox: res[0].height
      })
    })
  },
  getTabtop() {
    let query = wx.createSelectorQuery().in(this)
    let that = this
    query.select('#tabBox').boundingClientRect()
    query.exec(res => {
      this.setData({
        showTab: res[0].top < this.data.top ? 1 : 0
      })
    })
  },
  bindscroll(e) {
    this.setData({
      scroll: e.detail.scrollTop
    }, () => {
      this.data.top > 0 ? '' : this.setData({
        top: this.selectComponent('#navigationBar').data.height + this.selectComponent('#navigationBar').data.paddingTop
      })
      this.getTabtop()
    })
  },
  back() {
    let pages = getCurrentPages()
    pages.length > 1 ? wx.navigateBack() : wx.switchTab({
      url: '/pages/index/index',
    })
  }
})