<!-- pages/timetableList/timetableList.wxml -->
<wxs module="fn">
  module.exports = {
  width: function(liveCount, studyLiveCount) {
  return (liveCount / studyLiveCount) * 100
  }
  }
</wxs>
<view class="timetableList">
  <!-- 缺省 -->
  <view class="qstBox" wx:if="{{courseList.length == 0}}">
    <image src="../../images/liveqs.png"></image>
    <text>
      暂无课程
    </text>
    <navigator open-type="switchTab" hover-class="none" url="/pages/timetable/timetable" class="choose">去选课</navigator>
  </view>
  <!-- 列表 -->
  <view wx:else class="contariner">
    <view class="item" wx:for="{{courseList}}" wx:for-item="lesson" wx:key="index" bindtap="toDetail"
      data-lesson-id="{{lesson.columnId}}">
      <view class="imgBox">
        <image src="{{lesson.indexCover}}" class="img"></image>
        <image class="icon" mode="aspectFill" src="/images/recomonPlay.png"></image>
      </view>
      <view class="txtBox">
        <view class="title">疯狂进攻和对方进攻和发记得发货即可收到看见对方韩国的科技孵化给看的肌肤光滑看的肌肤光滑扩大解放韩国空间点法国 看的肌肤光滑思考的结果和扣税的肌肤光滑的空间规划懂接口给</view>
        <view class="textBottom" wx:if="{{fn.width(lesson.liveCount,lesson.studyLiveCount) < 100 && lesson.liveCount > 0}}">
          <text>已学 {{lesson.liveCount}}/{{lesson.studyLiveCount}}课时</text>
          <view class="progress">
            <view class="inro" style="width: {{fn.width(lesson.liveCount,lesson.studyLiveCount)}}%;"></view>
          </view>
        </view>
        <view class="textBottom textBottomsp" wx:elif="{{lesson.liveCount == 0}}">
          <text>共{{lesson.studyLiveCount}}课时</text>
          <text class="toStudy">去学习</text>
        </view>
        <view class="textBottom textBottomsp" wx:else>
          <text>共{{lesson.studyLiveCount}}课时</text>
          <text class="toStudy over">已学完</text>
        </view>
      </view>
    </view>
  </view>
</view>