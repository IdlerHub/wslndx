<!--page/live/pages/liveVideo/liveVideo.wxml-->
<live-player src="{{liveDetail.liveUrl}}" class="v-player" autoplay bindstatechange="bindstatechange"
  bindleavepictureinpicture="bindleavepictureinpicture"
  wx:if="{{liveStatus == 1 && liveDetail.direction && !liveDetail.liveType}}">
</live-player>
<live-player src="{{liveDetail.liveUrl}}" style="top:{{ statusBarHeight + 150 }}rpx" class="v-player h-player" autoplay bindstatechange="bindstatechange"
  wx:if="{{liveStatus == 1 && !liveDetail.direction && !liveDetail.liveType}}">
  <image src="../../images/full.png" bindtap="toHliveRoom"></image>
</live-player>
<video src="{{liveDetail.videoUrl}}" class="v-player" controls="{{false}}" initial-time="{{liveDetail.now}}"
  show-center-play-btn="{{false}}" enable-progress-gesture="{{false}}" show-progress="{{false}}"
  show-fullscreen-btn="{{false}}" show-play-btn="{{false}}" autoplay object-fit="fill"
  wx:if="{{liveStatus == 1 && liveDetail.direction && liveDetail.liveType && showVideo}}"></video>
<video src="{{liveDetail.videoUrl}}" style="top:{{ statusBarHeight + 150 }}rpx" class="v-player h-player" controls="{{false}}" initial-time="{{liveDetail.now}}"
  show-center-play-btn="{{false}}" enable-progress-gesture="{{false}}" show-progress="{{false}}"
  show-fullscreen-btn="{{false}}" show-play-btn="{{false}}" autoplay object-fit="fill"
  wx:if="{{liveStatus == 1 && !liveDetail.direction && liveDetail.liveType && showVideo}}">
  <image src="../../images/full.png" bindtap="toHliveRoom"></image>
</video>
<view class="v-player h-player playCover" style="top:{{ statusBarHeight + 150 }}rpx" wx:if="{{liveStatus == 0}}">
  <image src="{{liveDetail.indexCover}}"></image>
  <view class="liveRemind" style="bottom: {{downTime.d > 0 || downTime.m > 0 || downTime.s > 0 ? 'calc(-128vmin / 7.5)' : 'calc(-118vmin / 7.5)' }}">
    <image src="../../images/ling.png" alt=""></image>
    <view class="remindTxt">
      <text class="liveName">{{liveDetail.name}}</text>
      <text wx:if="{{downTime.d > 0 || downTime.m > 0 || downTime.s > 0}}">距离开播 <text class="time"
          wx:if="{{downTime.d > 0}}">{{downTime.d >= 10 ? downTime.d : '0' + downTime.d}}</text> <text
          wx:if="{{downTime.d > 0}}"> 天 </text><text
          class="time">{{downTime.m >= 10 ? downTime.m : '0' + downTime.m}}</text> 时 <text
          class="time">{{downTime.s >= 10 ? downTime.s : '0' + downTime.s}}</text> 分</text>
      <view class="text" wx:else>
        即将开播
      </view>
    </view>
  </view>
</view>
<view class="statusBox" wx:if="{{liveStatus != 1}}">
  <text wx:if="{{liveStatus == 3}}">讲师暂时离开,请稍等</text>
  <text wx:if="{{liveStatus == 4}}">直播结束</text>
  <text wx:if="{{liveStatus == 4}}">观看 {{liveCount}}人 | 15分钟内生成回播</text>
  <button class="share" hover-class="none" open-type="share" wx:if="{{liveStatus == 4}}">
    <image src="../../images/liveShare.png"></image>
  </button>
</view>
<liveTop liveDetail="{{liveDetail}}" liveCount="{{liveCount}}" direction="{{liveDetail.direction}}"
  statusBarHeight="{{statusBarHeight}}" vliveRoom="1" bind:checkFollow="checkFollow" />
<talkCommon talkList="{{talkList}}" specialList="{{specialList}}" close="{{close}}" vliveRoom="1" newMessage="{{newMessage}}"
  statusBarHeight="{{statusBarHeight}}" bind:setNewmessagenum="setNewmessagenum" />
<navigator class="downloadeApp"
  url="/pages/education/education?type=0&url=https://mp.weixin.qq.com/s/vSd8XBQDQkvqVX_kt_YyTQ" hover-class="none">
  <image src="../../images/dowloafeApp.png" bindtap="downloadeApp"></image>
</navigator>
<liveBottom close="{{close}}" columnId="{{liveDetail.columnId}}" keyHeight="{{keyHeight}}" vliveRoom="1"
  bind:sendMsg="sendMsg" bind:praise="praise" bind:checkCaption="checkCaption" bind:clickHandler="clickHandler" />
<like-fx count="{{praiseCount}}" wx:if="{{showCanvans}}"></like-fx>

<view class="teacherBoxmask" bindtap="showTentionBox" data-type="1" wx:if="{{showBox}}">
  <view class="teacherBox {{!moveBox ? 'teacherMove' : ''}}" catchtap="return">
    <image src="/images/icon-del.png" class="icondel" catchtap="showTentionBox" data-type="1"></image>
    <image src="{{ liveDetail.avatar }}" class="avatar"></image>
    <text>{{ liveDetail.nickname }}</text>
    <text>关注老师，更多好课不错过</text>
    <view class="addBtn" catchtap="attention">关注</view>
  </view>
</view>

<textarea class="textarea" placeholder="文字" focus="{{false}}" fixed show-confirm-bar adjust-position="{{false}}"
  bindblur="showBox"></textarea>